{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/templates/storymap.html","webpack:///./src/impl/ol/js/storymapcontrol.js","webpack:///./src/facade/js/storymapcontrol.js","webpack:///./src/facade/js/i18n/language.js","webpack:///./src/facade/js/storymap.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","StoryMapControl","_M$impl$Control","_inherits","M","impl","Control","_super","_createSuper","_classCallCheck","apply","arguments","map","html","_get","_getPrototypeOf","_M$Control","_this","content","length","undefined","delay","indexInContent","isDraggable_","StoryMapControlImplControl","content_","stepIndex","indexCap","direction","svgArrowScroll","arrowScrollEffect_contador","panelHTML_","_this2","this","map_","Promise","success","fail","template","compileSync","vars","title","speed","createContent","scrollEvent","createNavPointer","cap","buttonDelay","on","createPointerSteps","window","innerWidth","handleMovil","document","querySelector","addEventListener","createPlayPause","arrowEvent","eventIndex","utils","draggabillyPlugin","getPanel","allhtml","contentHistory","index","subtitle","steps","concat","createIndex","js","unshift","innerHTML","forEach","_ref","_ref2","j","indexNextCap","positionStep","caps","querySelectorAll","style","step","addJSCap","scroll","top","behavior","changeTitleSubtitle","numberCap","activate","stepActive","idContainer","idElement","divElement","display","Number","isNaN","id","parseInt","capLength","_this3","pointer","_ref3","target","resetScroll","disableCap","getAttribute","capIndex","effectPointer","children","_ref4","_this4","stepsPoint","navStep","elemt","_ref5","disableStep","_this5","play","pause","idTimeCap","allIntervalId","timeCap","push","clearInterval","e","_this6","navContent","_ref6","arrowScrollEffect","Math","abs","scrollHeight","clientHeight","scrollTop","childElementCount","idStep","replace","idCap","siguienteStep","capNext","indexStep","body","removeChild","newScript","createElement","inlineScript","createTextNode","appendChild","error","console","warn","_this7","setInterval","lenghtCap","lengthStep","_this8","setTimeout","indexNext","typeNapID","container","classList","remove","add","_ref7","_ref7$title","_ref7$subtitle","_this9","li","_ref8","_this10","text","position","_ref9","setAttribute","displayLast","lastChild","contains","control","translations","en","es","getLang","res","language","getTranslation","lang","storymap","getValue","keyPath","translation","isNullOrEmpty","split","reduce","prev","current","StoryMap","_M$Plugin","Plugin","options","controls_","position_","collapsed_","collapsed","metadata_","api","metadata","tooltip_","tooltip","collapsible","options_","isDraggable","isUndefined","mapjs","panel_","ui","Panel","collapsedButtonClass","className","addControls","addPanels","isCollapsed","isDraggableE","encodeBase64","plugin","removeControls","M$plugin$StoryMap","M$control$StoryMapControl"],"mappings":"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","file":"storymap.ol.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n","module.exports = \"<div id=\\\"m-storymap-container\\\" class=\\\"m-control m-container m-storymap-container m-storymap\\\">\\n    <div class=\\\"m-storymap-panel\\\" id=\\\"m-storymap-panel\\\">\\n        <div class=\\\"title\\\">\\n            {{title}}\\n        </div>\\n        <main class=\\\"mainStoryMap\\\">\\n            <div class=\\\"navPointer\\\" id=\\\"navPointer\\\">\\n\\n                <button speed=\\\"{{speed}}\\\" id=\\\"buttonDelay\\\" class=\\\"buttonDelay\\\">\\n                    1x\\n                </button>\\n\\n                <svg id=\\\"play\\\" height=\\\"23\\\" width=\\\"23\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n                    class=\\\"icon icon-tabler icon-tabler-player-play\\\" width=\\\"44\\\" height=\\\"44\\\" viewBox=\\\"0 0 24 24\\\"\\n                    stroke-width=\\\"1.5\\\" stroke=\\\"#65a3d4\\\" fill=\\\"none\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\">\\n                    <path stroke=\\\"none\\\" d=\\\"M0 0h24v24H0z\\\" fill=\\\"none\\\" />\\n                    <path d=\\\"M7 4v16l13 -8z\\\" />\\n                </svg>\\n                <svg id=\\\"pause\\\" style=\\\"display: none;\\\" height=\\\"23\\\" width=\\\"23\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n                    class=\\\"icon icon-tabler icon-tabler-player-pause\\\" width=\\\"44\\\" height=\\\"44\\\" viewBox=\\\"0 0 24 24\\\"\\n                    stroke-width=\\\"1.5\\\" stroke=\\\"#65a3d4\\\" fill=\\\"none\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\">\\n                    <path stroke=\\\"none\\\" d=\\\"M0 0h24v24H0z\\\" fill=\\\"none\\\" />\\n                    <rect x=\\\"6\\\" y=\\\"5\\\" width=\\\"4\\\" height=\\\"14\\\" rx=\\\"1\\\" />\\n                    <rect x=\\\"14\\\" y=\\\"5\\\" width=\\\"4\\\" height=\\\"14\\\" rx=\\\"1\\\" />\\n                </svg>\\n\\n            </div>\\n            <div class=\\\"navStep\\\" id=\\\"navStep\\\">\\n            </div>\\n            <div class=\\\"navContent\\\">\\n                <section id=\\\"contentStoryMap\\\" class=\\\"contentStoryMap\\\">\\n                    <header class=\\\"header_contentStoryMap\\\">\\n                        <h2 id=\\\"title_contentStoryMap\\\">title</h2>\\n                        <p id=\\\"subtitle_contentStoryMap\\\">sub</p>\\n                    </header>\\n\\n                </section>\\n            </div>\\n            <div class=\\\"arrowScroll\\\">\\n                <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"icon icon-tabler icon-tabler-arrow-big-down\\\" width=\\\"44\\\"\\n                    height=\\\"44\\\" viewBox=\\\"0 0 24 24\\\" stroke-width=\\\"1.5\\\" stroke=\\\"#71a7d3\\\" fill=\\\"none\\\"\\n                    stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\">\\n                    <path stroke=\\\"none\\\" d=\\\"M0 0h24v24H0z\\\" fill=\\\"none\\\" />\\n                    <path\\n                        d=\\\"M15 4v8h3.586a1 1 0 0 1 .707 1.707l-6.586 6.586a1 1 0 0 1 -1.414 0l-6.586 -6.586a1 1 0 0 1 .707 -1.707h3.586v-8a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1z\\\" />\\n                </svg>\\n            </div>\\n        </main>\\n    </div>\\n\\n</div>\";","/**\n * @module M/impl/control/StoryMapControl\n */\nexport default class StoryMapControl extends M.impl.Control {\n  /**\n   * This function adds the control to the specified map\n   *\n   * @public\n   * @function\n   * @param {M.Map} map to add the plugin\n   * @param {HTMLElement} html of the plugin\n   * @api stable\n   */\n  addTo(map, html) {\n    super.addTo(map, html);\n  }\n}\n","/**\n * @module M/control/StoryMapControl\n */\n\nimport StoryMapControlImplControl from '../../impl/ol/js/storymapcontrol';\nimport template from '../../templates/storymap';\n\n// import { getValue } from './i18n/language';\n\n\nexport default class StoryMapControl extends M.Control {\n  /**\n   * @constructor\n   * @extends {M.Control}\n   * @api\n   */\n  constructor(content = {}, delay = 2000, indexInContent, isDraggable_) {\n    const impl = new StoryMapControlImplControl();\n    super(impl, 'StoryMapControl');\n    this.content_ = content;\n    this.delay = delay;\n\n    this.stepIndex = 0;\n    this.indexCap = 0;\n\n    this.indexInContent = indexInContent;\n\n    this.direction = true;\n\n    this.svgArrowScroll = true;\n    this.arrowScrollEffect_contador = 1;\n    this.panelHTML_ = null;\n\n    this.isDraggable_ = isDraggable_;\n  }\n\n  /**\n   * This function creates the view\n   *\n   * @public\n   * @function\n   * @param {M.Map} map to add the control\n   * @api\n   */\n  createView(map) {\n    this.map_ = map;\n    return new Promise((success, fail) => {\n      let html = M.template.compileSync(template, {\n        vars: {\n          title: 'Story Map',\n          speed: (this.delay / 1000),\n        },\n      });\n\n      html = this.createContent(html, this.indexInContent);\n      this.scrollEvent(html);\n      html = this.createNavPointer(html, this.content_.cap.length);\n      html = this.buttonDelay(html);\n\n      map.on('M.evt.COMPLETED', () => {\n        this.createPointerSteps(0);\n      });\n\n      if (window.innerWidth <= 772) {\n        this.handleMovil();\n        document.querySelector('.m-plugin-storymap .m-panel-btn')\n          .addEventListener('click', this.handleMovil);\n      }\n\n      html = this.createPlayPause(html);\n      html = this.arrowEvent(html);\n      html = this.eventIndex(html);\n\n      this.panelHTML_ = html;\n\n      if (this.isDraggable_) {\n        M.utils.draggabillyPlugin(this.getPanel(), '#m-storymap-panel .title');\n      }\n\n      success(this.panelHTML_);\n    });\n  }\n\n  createContent(allhtml, indexInContent) {\n    const contentHistory = allhtml.querySelector('#contentStoryMap');\n    const { cap } = this.content_;\n\n    if (indexInContent) {\n      const index = {\n        title: indexInContent.title,\n        subtitle: indexInContent.subtitle,\n        steps: [{\n          html: `${this.createIndex()}<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>`,\n          js: indexInContent.js,\n        }],\n      };\n      cap.unshift(index);\n    }\n\n    const title = allhtml.querySelector('#title_contentStoryMap');\n    title.innerHTML = cap[0].title;\n\n    const subtitle = allhtml.querySelector('#subtitle_contentStoryMap');\n    subtitle.innerHTML = cap[0].subtitle;\n\n    let content = '';\n\n    cap.forEach(({ steps }, i) => {\n      if (i === 0) {\n        content += `<div id=cap${i} style=\"display: block;\" class=\"chapters\">`;\n      } else {\n        content += `<div id=cap${i} style=\"display: none;\" class=\"chapters\">`;\n      }\n      steps.forEach(({ html, js }, j) => {\n        if (j === 0 && i === 0) {\n          content += `<div id=\"step${j}\" class=\"step\" style=\"display: block;\"><br><br>${html}<br><br></div>`;\n        } else {\n          content += `<div id=\"step${j}\" class=\"step\" style=\"display: none;\"><br><br>${html}<br><br></div>`;\n        }\n      });\n      content += '</div>';\n    });\n    contentHistory.innerHTML += content;\n\n    // eslint-disable-next-line no-param-reassign\n    allhtml.querySelector('#navStep').innerHTML = `<svg id=\"pointStep0\" height=\"23\" width=\"23\" index=\"0\">\n    <circle class=\"pointerEffect\" index=\"0\" stroke=\"#71a7d3\" strokeWidth=\"1\" fill=\"#71a7d3\" cx=\"50%\" cy=\"50%\" r=\"4\" />\n  </svg>`;\n\n    return allhtml;\n  }\n\n  disableCap(indexNextCap, indexCap, positionStep) {\n    const divElement = document.querySelector('#contentStoryMap');\n    const caps = divElement.querySelectorAll('.chapters');\n    const steps = caps[indexNextCap].querySelectorAll('.step');\n\n    caps[indexCap].style = 'display: none';\n    caps[indexNextCap].style = 'display: block';\n\n    const step = (positionStep) ? steps[0] : steps[steps.length - 1];\n\n    this.addJSCap(indexNextCap, (positionStep) ? 0 : steps.length - 1);\n\n    step.style = 'display: block';\n\n    step.scroll({\n      top: 20,\n      behavior: 'smooth',\n    });\n\n    this.changeTitleSubtitle(indexNextCap);\n  }\n\n  disableStep(numberCap, activate) {\n    const cap = document.querySelector(`#cap${numberCap}`);\n    cap.querySelectorAll('.step').forEach((step) => {\n      // eslint-disable-next-line no-param-reassign\n      step.style = 'display: none;';\n    });\n\n    const stepActive = cap.querySelector(`#step${activate}`);\n    stepActive.style = 'display: block';\n\n    stepActive.scroll({\n      top: 20,\n      behavior: 'smooth',\n    });\n  }\n\n  changeTitleSubtitle(indexNextCap) {\n    const { cap } = this.content_;\n    const title = document.querySelector('#title_contentStoryMap');\n    title.innerHTML = cap[indexNextCap].title;\n\n    const subtitle = document.querySelector('#subtitle_contentStoryMap');\n    subtitle.innerHTML = cap[indexNextCap].subtitle;\n  }\n\n  capIndex(idContainer, idElement) {\n    const container = document.querySelector(idContainer);\n    const divElement = container.querySelectorAll(idElement);\n    // eslint-disable-next-line guard-for-in, no-restricted-syntax\n    for (const key in divElement) {\n      if (divElement[key].style.display === 'block' && !Number.isNaN(key)) {\n        const id = divElement[key].id;\n        return Number.parseInt(id[id.length - 1], 10);\n      }\n    }\n    return false;\n  }\n\n  createNavPointer(html, capLength) {\n    const divElement = html.querySelector('#navPointer');\n    // eslint-disable-next-line no-plusplus\n    for (let i = 0; i < capLength; i++) {\n      if (i === 0) {\n        divElement.innerHTML += `\n        <svg id=\"pointerNav${i}\" height=\"23\" width=\"23\" index=\"${i}\">\n          <circle class=\"pointerEffect\" index=\"${i}\" stroke=\"#71a7d3\" strokeWidth=\"1\" fill=\"#71a7d3\" cx=\"50%\" cy=\"50%\" r=\"4\" />\n        </svg>\n        `;\n      } else {\n        divElement.innerHTML += `\n        <svg id=\"pointerNav${i}\" height=\"23\" width=\"23\" index=\"${i}\">\n          <circle index=\"${i}\" stroke=\"#71a7d3\" strokeWidth=\"1\" fill=\"#71a7d3\" cx=\"50%\" cy=\"50%\" r=\"4\" />\n        </svg>\n        `;\n      }\n    }\n\n    const pointers = html.querySelectorAll('#navPointer > svg');\n    pointers.forEach((pointer, i) => {\n      if (i !== 0 && i !== 1) {\n        pointer.addEventListener('click', ({ target }) => {\n          this.resetScroll();\n          this.disableCap(target.getAttribute('index'), this.capIndex('#contentStoryMap', '.chapters'), true);\n          this.createPointerSteps(target.getAttribute('index'));\n          this.effectPointer(target.getAttribute('index'), '#pointerNav', 'navPointer');\n          this.effectPointer(0, '#pointStep', 'navStep');\n        });\n        pointer.children[0].addEventListener('click', ({ target }) => {\n          this.resetScroll();\n          this.disableCap(target.getAttribute('index'), this.capIndex('#contentStoryMap', '.chapters'), true);\n          this.createPointerSteps(target.getAttribute('index'));\n          this.effectPointer(target.getAttribute('index'), '#pointerNav', 'navPointer');\n          this.effectPointer(0, '#pointStep', 'navStep');\n        });\n      }\n    });\n\n\n    return html;\n  }\n\n  createPointerSteps(indexCap) {\n    const { cap } = this.content_;\n    const steps = cap[indexCap].steps;\n\n    let stepsPoint = '';\n\n    steps.forEach((s, i) => {\n      if (i === 0) {\n        stepsPoint += `<svg id=\"pointStep${i}\" height=\"23\" width=\"23\" index=\"${i}\">\n        <circle class=\"pointerEffect\" index=\"${i}\" stroke=\"#71a7d3\" strokeWidth=\"1\" fill=\"#71a7d3\" cx=\"50%\" cy=\"50%\" r=\"4\" />\n      </svg>`;\n      } else {\n        stepsPoint += `<svg id=\"pointStep${i}\" height=\"23\" width=\"23\" index=\"${i}\">\n        <circle index=\"${i}\" stroke=\"#71a7d3\" strokeWidth=\"1\" fill=\"#71a7d3\" cx=\"50%\" cy=\"50%\" r=\"4\" />\n      </svg>`;\n      }\n    });\n\n    const navStep = document.querySelector('#navStep');\n    navStep.innerHTML = stepsPoint;\n\n    navStep.querySelectorAll('svg').forEach((elemt) => {\n      elemt.addEventListener('click', ({ target }) => {\n        this.disableStep(indexCap, target.getAttribute('index'));\n        this.addJSCap(indexCap, target.getAttribute('index'));\n        this.effectPointer(target.getAttribute('index'), '#pointStep', 'navStep');\n      });\n    });\n  }\n\n  createPlayPause(html) {\n    const play = html.querySelector('#play');\n    const pause = html.querySelector('#pause');\n    this.idTimeCap = 0;\n    this.allIntervalId = [];\n    play.addEventListener('click', () => {\n      play.style.display = 'none';\n      pause.style.display = 'block';\n      this.idTimeCap = this.timeCap();\n      this.allIntervalId.push(this.idTimeCap);\n    });\n\n    pause.addEventListener('click', () => {\n      pause.style.display = 'none';\n      play.style.display = 'block';\n      this.allIntervalId.forEach((id) => {\n        clearInterval(id);\n      });\n    });\n    return html;\n  }\n\n  resetScroll() {\n    document.querySelectorAll('.step').forEach((e) => {\n      e.style = 'display: none';\n    });\n  }\n\n  scrollEvent(html) {\n    const navContent = html.querySelectorAll('.chapters');\n    navContent.forEach((cap) => {\n      cap.querySelectorAll('.step').forEach((step) => {\n        step.addEventListener('scroll', ({ target }) => {\n          if (this.svgArrowScroll) this.arrowScrollEffect();\n          // ***** Delante *****\n          // Evitar que ejecute esto cuando es el ultimo capitulo y el ultimo step\n          if (Math.abs(target.scrollHeight - target.clientHeight - target.scrollTop) < 1 &&\n            !(navContent[navContent.length - 1].id === cap.id && `step${cap.childElementCount - 1}` === target.id)) {\n            // eslint-disable-next-line no-param-reassign\n            target.style = 'display: none';\n            const idStep = Number(step.id.replace('step', '')) + 1;\n\n            if (cap.querySelectorAll('.step').length - 1 < idStep) {\n              const idCap = Number(cap.id.replace('cap', '')) + 1;\n              document.querySelector(`#cap${idCap}`).style = 'display: block';\n              const siguienteStep = document.querySelector(`#cap${idCap}`).querySelector('#step0');\n              siguienteStep.style = 'display: block';\n\n              document.querySelector(`#${cap.id}`).style = 'display: none';\n              this.addJSCap(idCap, 0);\n              this.effectPointer(idCap, '#pointerNav', 'navPointer');\n              this.createPointerSteps(idCap);\n              this.effectPointer(0, '#pointStep', 'navStep');\n              this.changeTitleSubtitle(idCap);\n            } else {\n              const siguienteStep = document.querySelector(`#${cap.id}`).querySelector(`#step${idStep}`);\n              const idCap = Number(cap.id.replace('cap', ''));\n              siguienteStep.style = 'display: block';\n              siguienteStep.scrollTop = 1;\n              this.addJSCap(idCap, idStep);\n              this.effectPointer(idStep, '#pointStep', 'navStep');\n            }\n            // ***** Atras *****\n          } else if (target.scrollTop === 0 && !(cap.id === 'cap0' && target.id === 'step0')) {\n            const idStep = Number(step.id.replace('step', '')) - 1;\n            // eslint-disable-next-line no-param-reassign\n            target.style = 'display: none';\n\n            if (idStep < 0) {\n              const idCap = Number(cap.id.replace('cap', '')) - 1;\n              const capNext = document.querySelector(`#cap${idCap}`);\n              capNext.style = 'display: block';\n\n              const siguienteStep = document.querySelector(`#cap${idCap}`).querySelector(`#step${capNext.childElementCount - 1}`);\n              siguienteStep.style = 'display: block';\n              siguienteStep.scrollTop = 10;\n\n              document.querySelector(`#${cap.id}`).style = 'display: none';\n              this.addJSCap(idCap, capNext.childElementCount - 1);\n              this.effectPointer(idCap, '#pointerNav', 'navPointer');\n              this.createPointerSteps(idCap);\n              this.changeTitleSubtitle(idCap);\n              this.effectPointer(capNext.childElementCount - 1, '#pointStep', 'navStep');\n            } else {\n              const idCap = Number(cap.id.replace('cap', ''));\n              const siguienteStep = document.querySelector(`#${cap.id}`).querySelector(`#step${idStep}`);\n              siguienteStep.style = 'display: block';\n              siguienteStep.scrollTop = 10;\n              this.addJSCap(idCap, idStep);\n              this.effectPointer(idStep, '#pointStep', 'navStep');\n            }\n          }\n        });\n      });\n    });\n\n    return html;\n  }\n\n  addJSCap(indexCap, indexStep) {\n    try {\n      if (document.querySelector('#storyMap_jsCap')) document.body.removeChild(document.querySelector('#storyMap_jsCap'));\n      const newScript = document.createElement('script');\n      newScript.id = 'storyMap_jsCap';\n\n      const inlineScript = document.createTextNode(`{${this.content_.cap[indexCap].steps[indexStep].js}}`);\n      newScript.appendChild(inlineScript);\n      document.body.appendChild(newScript);\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.warn('Comprueba que has introducido correctamente el script, respetando \";\" y llamando a map o mapjs');\n    }\n  }\n\n  timeCap() {\n    const id = setInterval(() => {\n      const idStep = this.capIndex(`#cap${this.capIndex('#contentStoryMap', '.chapters')}`, '.step');\n      const div = document.querySelector(`#cap${this.capIndex('#contentStoryMap', '.chapters')}`);\n      const step = div.querySelector(`#step${idStep}`);\n      const lenghtCap = this.content_.cap.length - 1;\n      const lengthStep = this.content_.cap[this.content_.cap.length - 1].steps.length - 1;\n      if (`#cap${this.capIndex('#contentStoryMap', '.chapters')}` !== `#cap${lenghtCap}`\n        || `#step${idStep}` !== `#step${lengthStep}`) {\n        step.scroll({ top: step.scrollHeight + 10, behavior: 'smooth' });\n      }\n    }, (document.querySelector('#buttonDelay').getAttribute('speed') * 1000));\n\n    return id;\n  }\n\n  arrowScrollEffect() {\n    setTimeout(() => {\n      this.arrowScrollEffect_contador -= 0.1;\n      document.querySelector('.arrowScroll').style = `opacity: ${this.arrowScrollEffect_contador}`;\n      if (this.arrowScrollEffect_contador >= 0) this.arrowScrollEffect();\n    }, 150);\n\n    this.svgArrowScroll = !this.svgArrowScroll;\n  }\n\n  arrowEvent(html) {\n    html.querySelector('.arrowScroll').addEventListener('mouseover', (e) => {\n      document.querySelector('#cap0').querySelector('#step0').scroll({ top: 70, behavior: 'smooth' });\n    });\n    return html;\n  }\n\n  effectPointer(indexNext, typeNapID, container) {\n    document.querySelector(`.${container} .pointerEffect`).classList.remove('pointerEffect');\n    document.querySelector(`${typeNapID}${indexNext} > circle`).classList.add('pointerEffect');\n  }\n\n  createIndex() {\n    const { cap } = this.content_;\n\n    let index = '';\n\n    cap.forEach(({ title = '', subtitle = '' }, i) => {\n      index += `<li index=\"${i + 1}\">${title}. ${subtitle}</li>`;\n    });\n\n    index = `<ol id='indexContent'>${index}</ol>`;\n\n    return index;\n  }\n\n  eventIndex(html) {\n    html.querySelectorAll('#indexContent > li').forEach((li, i) => {\n      li.addEventListener('click', ({ target }) => {\n        this.resetScroll();\n        this.disableCap(target.getAttribute('index'), this.capIndex('#contentStoryMap', '.chapters'), true);\n        this.createPointerSteps(target.getAttribute('index'));\n        this.effectPointer(target.getAttribute('index'), '#pointerNav', 'navPointer');\n      });\n    });\n    return html;\n  }\n\n  buttonDelay(html) {\n    const speed = [\n      { text: '0.5x', value: 0 },\n      { text: '1x', value: 1 },\n      { text: '2x', value: 2 },\n      { text: '3x', value: 3 },\n      { text: '5x', value: 5 },\n    ];\n    let position = 0;\n    html.querySelector('#buttonDelay').addEventListener('click', ({ target }) => {\n      this.allIntervalId.forEach((id) => {\n        clearInterval(id);\n      });\n\n      position = (position >= speed.length - 1) ? 0 : position + 1;\n      if (position !== 0) {\n        // eslint-disable-next-line no-param-reassign\n        target.style = 'width: 23px';\n        target.setAttribute('speed', (this.delay / 1000) / speed[position].value);\n        document.querySelector('#navStep').style = 'margin-left: 5px;';\n      } else {\n        target.setAttribute('speed', (this.delay / 1000) * (speed[position].value + 1.5));\n        // eslint-disable-next-line no-param-reassign\n        target.style = 'width: 40px;';\n        document.querySelector('#navStep').style = 'margin-left: -15px;';\n      }\n\n      // eslint-disable-next-line no-param-reassign\n      target.innerHTML = speed[position].text;\n\n      const play = html.querySelector('#play');\n      const pause = html.querySelector('#pause');\n\n      play.style.display = 'none';\n      pause.style.display = 'block';\n\n      const id = setInterval(() => {\n        const displayLast = document.querySelector(`#cap${this.content_.cap.length - 1}`)\n          .lastChild.style.display;\n        const idStep = this.capIndex(`#cap${this.capIndex('#contentStoryMap', '.chapters')}`, '.step');\n        const div = document.querySelector(`#cap${this.capIndex('#contentStoryMap', '.chapters')}`);\n        const step = div.querySelector(`#step${idStep}`);\n        const lenghtCap = this.content_.cap.length - 1;\n        const lengthStep = this.content_.cap[this.content_.cap.length - 1].steps.length - 1;\n        if (`#cap${this.capIndex('#contentStoryMap', '.chapters')}` !== `#cap${lenghtCap}`\n          || `#step${idStep}` !== `#step${lengthStep}`) {\n          step.scroll({ top: step.scrollHeight + 10, behavior: 'smooth' });\n          // step.scrollTop = 9999999999;\n        }\n\n\n        if (displayLast === 'block') {\n          play.style.display = 'block';\n          pause.style.display = 'none';\n          clearInterval(id);\n        }\n      }, (target.getAttribute('speed') * 1000));\n      this.allIntervalId.push(id);\n    });\n    return html;\n  }\n\n  /**\n   * This function is called on the control activation\n   *\n   * @public\n   * @function\n   * @api\n   */\n  activate() {\n    super.activate();\n  }\n  /**\n   * This function is called on the control deactivation\n   *\n   * @public\n   * @function\n   * @api\n   */\n  deactivate() {\n    super.deactivate();\n  }\n  /**\n   * This function gets activation button\n   *\n   * @public\n   * @function\n   * @param {HTML} html of control\n    * @api\n    */\n  getActivationButton(html) {\n    return html.querySelector('.m-storymap button');\n  }\n\n  handleMovil() {\n    if (document.querySelector('.m-plugin-storymap.opened')) {\n      document.querySelectorAll('.m-panel').forEach((p) => {\n        if (!p.classList.contains('m-plugin-storymap')) {\n          // eslint-disable-next-line no-param-reassign\n          p.style.display = 'none';\n        }\n      });\n    } else {\n      document.querySelectorAll('.m-panel').forEach((p) => {\n        if (!p.classList.contains('m-plugin-storymap')) {\n        // eslint-disable-next-line no-param-reassign\n          p.style.display = 'block';\n        }\n      });\n    }\n  }\n\n  /**\n   * This function compares controls\n   *\n   * @public\n   * @function\n   * @param {M.Control} control to compare\n    * @api\n    */\n  equals(control) {\n    return control instanceof StoryMapControl;\n  }\n}\n","import en from './en';\nimport es from './es';\n\n/**\n * Default object with es and en translate.\n *\n * @const\n * @type {object}\n */\nconst translations = {\n  en,\n  es,\n};\n\nconst getLang = () => {\n  let res = 'es';\n  if (typeof M.language.getLang === 'function') {\n    res = M.language.getLang();\n  }\n\n  return res;\n};\n\n/**\n * This function sets a new language translate.\n * @param {string} lang\n * @param {JSON} json\n * @public\n * @api\n */\nexport const addTranslation = (lang, json) => {\n  translations[lang] = json;\n};\n\n/**\n * This function gets a language translate.\n *\n * @param {string} lang\n * @return {JSON}\n * @public\n * @api\n */\nexport const getTranslation = (lang) => {\n  if (lang === 'es' || lang === 'en') {\n    return translations[lang];\n  }\n  return M.language.getTranslation(lang).storymap;\n};\n\n/**\n * This function gets a language value from key\n *\n * @public\n * @param {string}\n * @param {string}\n * @return {string}\n * @public\n * @api\n */\n\nexport const getValue = (keyPath, lang = getLang()) => {\n  const translation = getTranslation(lang);\n  let value = '';\n  if (M.utils.isNullOrEmpty(translation)) {\n    /* eslint-disable no-console */\n    console.warn(`The translation '${lang}' has not been defined.`);\n  } else {\n    value = keyPath.split('.').reduce((prev, current) => prev[current], translation);\n  }\n\n  return value;\n};\n","/**\n * @module M/plugin/StoryMap\n */\nimport '../assets/css/storymap';\nimport '../assets/css/fonts';\nimport api from '../../api';\nimport StoryMapControl from './storymapcontrol';\nimport { getValue } from './i18n/language';\n\nimport es from './i18n/es';\nimport en from './i18n/en';\n\nexport default class StoryMap extends M.Plugin {\n  /**\n   * @constructor\n   * @extends {M.Plugin}\n   * @param {Object} impl implementation object\n   * @api\n   */\n  constructor(options = {}) {\n    super();\n    /**\n     * Facade of the map\n     * @private\n     * @type {M.Map}\n     */\n    this.map_ = null;\n\n    /**\n     * Array of controls\n     * @private\n     * @type {Array<M.Control>}\n     */\n    this.controls_ = [];\n\n    /**\n     * Position of the plugin\n     * @private\n     * @type {string}\n     */\n    this.position_ = options.position || 'TR';\n\n    /**\n     * This parameter set if the plugin is collapsed\n     * @private\n     * @type {boolean}\n     */\n    this.collapsed_ = options.collapsed === true;\n\n    /**\n     * Metadata from api.json\n     * @private\n     * @type {Object}\n     */\n    this.metadata_ = api.metadata;\n\n    /**\n     * Plugin tooltip\n     *\n     * @private\n     * @type {string}\n     */\n    this.tooltip_ = options.tooltip || getValue('tooltip');\n\n    /**\n    * JSON HTML\n    *\n    * @private\n    * @type {string}\n    */\n    this.content_ = options.content || {};\n\n    /**\n       * Delay auto move scroll\n       *\n       * @private\n       * @type {string}\n       */\n    this.delay = options.delay || 2000;\n\n    /**\n      * collapsible panel\n      *\n      * @private\n      * @type {string}\n      */\n    this.collapsible = options.collapsible || false;\n\n    /**\n     * Content of index\n     * @private\n     * @type {Object}\n     */\n    this.indexInContent = options.indexInContent || false;\n\n    /**\n     * Options of the plugin\n     * @private\n     * @type {Object}\n     */\n    this.options_ = options;\n\n\n    /**\n     * Option to allow the plugin to be draggable or not\n     * @private\n     * @type {Boolean}\n     */\n    this.isDraggable = !M.utils.isUndefined(options.isDraggable) ? options.isDraggable : false;\n  }\n\n  /**\n   * Return plugin language\n   *\n   * @public\n   * @function\n   * @param {string} lang type language\n   * @api stable\n   */\n  static getJSONTranslations(lang) {\n    if (lang === 'en' || lang === 'es') {\n      return (lang === 'en') ? en : es;\n    }\n    return M.language.getTranslation(lang).storymap;\n  }\n\n  /**\n   * This function adds this plugin into the map\n   *\n   * @public\n   * @function\n   * @param {M.Map} map the map to add the plugin\n   * @api stable\n   */\n  addTo(map) {\n    // TO DO Parametrizar indice y poner que sea un max de x minimo\n    this.control = new StoryMapControl(\n      this.content_[M.language.getLang()],\n      this.delay, this.indexInContent, this.isDraggable,\n    );\n    this.map_ = map;\n    window.map = map;\n    window.mapjs = map;\n\n    this.panel_ = new M.ui.Panel('panelStoryMap', {\n      collapsible: this.collapsible,\n      position: M.ui.position[this.position_],\n      collapsedButtonClass: 'icon-capas2',\n      className: 'm-plugin-storymap',\n      tooltip: this.tooltip_,\n      collapsed: this.collapsed_,\n    });\n    this.panel_.addControls([this.control]);\n    map.addPanels(this.panel_);\n\n    // No funciona en el cervantes\n    // map.on(M.evt.ADDED_LAYER, () => {\n    //   this.control.render();\n    // });\n\n    // map.on(M.evt.COMPLETED, () => {\n    //   this.control.render();\n    // });\n  }\n\n  /**\n   * This function returns the position\n   *\n   * @public\n   * @return {string}\n   * @api\n   */\n  get position() {\n    return this.position_;\n  }\n\n  /**\n   * Name of the plugin\n   *\n   * @getter\n   * @function\n   */\n  get name() {\n    return 'storymap';\n  }\n\n  /**\n   * Collapsed parameter\n   *\n   * @getter\n   * @function\n   */\n  get collapsed() {\n    return this.panel_.isCollapsed();\n  }\n\n  /**\n   * Get the API REST Parameters of the plugin\n   *\n   * @function\n   * @public\n   * @api\n   */\n  getAPIRest() {\n    return `${this.name}=${this.position}*${this.collapsed}*${this.tooltip}*${this.isDraggableE}*`;\n  }\n\n  /**\n   * Gets the API REST Parameters in base64 of the plugin\n   *\n   * @function\n   * @public\n   * @api\n   */\n  getAPIRestBase64() {\n    return `${this.name}=base64=${M.utils.encodeBase64(this.options_)}`;\n  }\n\n  /**\n   * This function compares plugins\n   *\n   * @public\n   * @function\n   * @param {M.Plugin} plugin to compare\n   * @api\n   */\n  equals(plugin) {\n    return plugin instanceof StoryMap;\n  }\n\n  /**\n   * This function gets metadata plugin\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  getMetadata() {\n    return this.metadata_;\n  }\n\n  /**\n   * This function destroys this plugin\n   *\n   * @public\n   * @function\n   * @api\n   */\n  destroy() {\n    this.map_.removeControls(this.control);\n    [this.map_, this.control, this.panel_] = [null, null, null];\n  }\n}\n","import M$plugin$StoryMap from './/facade/js/storymap';\nimport M$control$StoryMapControl from './/facade/js/storymapcontrol';\n\nif (!window.M.plugin) window.M.plugin = {};\nif (!window.M.control) window.M.control = {};\nwindow.M.plugin.StoryMap = M$plugin$StoryMap;\nwindow.M.control.StoryMapControl = M$control$StoryMapControl;\n"],"sourceRoot":""}