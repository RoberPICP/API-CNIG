!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(e){e.exports=JSON.parse('{"exception":{"impl_length":"The implementation used cannot create MeasureLength.","impl_clear":"The implementation used cannot create MeasureClear.","impl_area":"The implementation used cannot create MeasureArea"},"text":{"tooltip":"Measurement tools","keep_drawing":"Click to continue drawing the line","click_draw":"Click to start drawing","keep_drawing_area":"Click to continue drawing the area","measure_area":"Measure area","delete":"Remove measures","measure":"Measuring distances"}}')},function(e){e.exports=JSON.parse('{"exception":{"impl_length":"La implementación usada no puede crear controles MeasureLength.","impl_clear":"La implementación usada no puede crear controles MeasureClear.","impl_area":"La implementación usada no puede crear controles MeasureArea"},"text":{"tooltip":"Herramientas de medición","keep_drawing":"Click para continuar dibujando la línea","click_draw":"Click para empezar a dibujar","keep_drawing_area":"Click para continuar dibujando el área","measure_area":"Medir área","delete":"Borrar medidas","measure":"Medir distancias"}}')},function(e,t){e.exports='<div class="m-measure-tooltip pointer"></div>'},function(e,t){e.exports='<div class="m-measure-tooltip measure">Area: {{area}}</div>'},function(e,t){e.exports='<div class="m-control m-measurearea-container">\n    <button id="measurebar-area-btn" class="measurebar-medir-area" title="{{translations.measure_area}}"></button>\n</div>\n'},function(e,t){e.exports='<div class="m-control m-measurelength-container">\n    <button id="measurebar-length-btn" class="measurebar-medir-linea" title="{{translations.measure}}"></button>\n</div>\n'},function(e,t){e.exports='<div class="m-control m-measureclear-container">\n    <button id="measurebar-clear-btn" class="g-cartografia-papelera" title="{{translations.delete}}"></button>\n</div>\n'},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(1),a={en:r,es:o},i=function(){var e="es";return"function"==typeof M.language.getLang&&(e=M.language.getLang()),e},u=function(e){return"es"===e||"en"===e?a[e]:M.language.getTranslation(e).measurebar},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i(),n=u(t),r="";return M.utils.isNullOrEmpty(n)?console.warn("The translation '".concat(t,"' has not been defined.")):r=e.split(".").reduce(function(e,t){return e[t]},n),r};function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(e,n,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=f(this,p(t).call(this,e,r))).template_=n,o}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,M.Control),n=t,(r=[{key:"createView",value:function(e){return M.template.compileSync(this.template_,{jsonp:!0,vars:{translations:l("text")}})}},{key:"getActivationButton",value:function(e){return e.querySelector("button")}},{key:"equals",value:function(e){var n=!1;return e instanceof t&&(n=this.name===e.name),n}},{key:"destroy",value:function(){this.getImpl().destroy(),this.template_=null,this.impl=null}}])&&s(n.prototype,r),o&&s(n,o),t}();h.NAME="measurebar",h.POINTER_TOOLTIP_TEMPLATE="measure_pointer_tooltip.html",h.MEASURE_TOOLTIP_TEMPLATE="measure_tooltip.html",h.HELP_MESSAGE=l("text.click_draw");var m=n(2),b=n.n(m),d=n(3),_=n.n(d);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e,t,n){return(O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=j(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var k=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=w(this,j(t).call(this))).type_=e,n.layer_=n.createLayer_(),n.draw_=n.createIteractionDraw_(),n.helpTooltip_=null,n.measureTooltip_=null,n.facadeMap_=null,n.currentFeature_=null,n.tooltipCoord_=null,n.overlays_=[],n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,M.impl.Control),n=t,(r=[{key:"addTo",value:function(e,n){this.facadeMap_=e,e.getMapImpl().addLayer(this.layer_),O(j(t.prototype),"addTo",this).call(this,e,n),this.createHelpTooltip_(),this.createMeasureTooltip_()}},{key:"activate",value:function(){this.invokeEscKey(),this.createHelpTooltip_(),this.facadeMap_.getMapImpl().on("pointermove",this.pointerMoveHandler_.bind(this)),this.facadeMap_.getMapImpl().addInteraction(this.draw_),this.active=!0,this.createMeasureTooltip_(),document.body.style.cursor="crosshair",document.addEventListener("keyup",this.checkEscKey.bind(this))}},{key:"checkEscKey",value:function(e){"Escape"===e.key&&(document.querySelectorAll(".m-panel.m-panel-measurebar .m-panel-controls div.activated > button").forEach(function(e){e.click()}),document.removeEventListener("keyup",this.checkEscKey))}},{key:"invokeEscKey",value:function(){try{document.dispatchEvent(new window.KeyboardEvent("keyup",{key:"Escape",keyCode:27,code:"",which:69,shiftKey:!1,ctrlKey:!1,metaKey:!1}))}catch(e){console.error(e)}}},{key:"deactivate",value:function(){document.body.style.cursor="default",this.facadeMap_.getMapImpl().un("pointermove",this.pointerMoveHandler_.bind(this)),this.facadeMap_.getMapImpl().removeInteraction(this.draw_),M.utils.isNullOrEmpty(this.helpTooltip_)||this.facadeMap_.getMapImpl().removeOverlay(this.helpTooltip_),M.utils.isNullOrEmpty(this.measureTooltip_)||this.facadeMap_.getMapImpl().removeOverlay(this.measureTooltip_),this.active=!1}},{key:"createLayer_",value:function(){return new ol.layer.Vector({source:new ol.source.Vector({}),style:new ol.style.Style({fill:new ol.style.Fill({color:"rgba(51, 124, 235, 0.2)"}),stroke:new ol.style.Stroke({color:"#337ceb",width:2}),image:new ol.style.Circle({radius:7,fill:new ol.style.Fill({color:"#337ceb"})})}),zIndex:9999999999999})}},{key:"createIteractionDraw_",value:function(){var e=new ol.interaction.Draw({source:this.layer_.getSource(),type:this.type_,style:new ol.style.Style({fill:new ol.style.Fill({color:"rgba(255, 255, 255, 0.5)"}),stroke:new ol.style.Stroke({color:"#b54d01",lineDash:[10,10],width:2}),image:new ol.style.Circle({radius:5,stroke:new ol.style.Stroke({color:"#b54d01"}),fill:new ol.style.Fill({color:"rgba(255, 255, 255, 0.5)"})})})});return e.on("drawstart",this.onDrawStart_.bind(this)),e.on("drawend",this.onDrawEnd_.bind(this)),e}},{key:"createHelpTooltip_",value:function(){var e=M.template.compileSync(b.a,{jsonp:!0,vars:{translations:l("text")}});this.helpTooltip_=new ol.Overlay({element:e,offset:[15,0],positioning:"center-left"}),this.facadeMap_.getMapImpl().addOverlay(this.helpTooltip_)}},{key:"createMeasureTooltip_",value:function(){var e=M.template.compileSync(_.a,{jsonp:!0,vars:{translations:l("text")}});M.utils.isNullOrEmpty(this.measureTooltip_)||this.overlays_.push(this.measureTooltip_),this.measureTooltip_=new ol.Overlay({element:e,offset:[0,-15],positioning:"bottom-center"}),this.facadeMap_.getMapImpl().addOverlay(this.measureTooltip_)}},{key:"onDrawStart_",value:function(e){this.currentFeature_=e.feature,this.tooltipCoord_=e.coordinate,this.currentFeature_.getGeometry().on("change",this.onGeometryChange_.bind(this))}},{key:"onDrawEnd_",value:function(e){this.currentFeature_.getGeometry().un("change",this.onGeometryChange_),this.currentFeature_=null,this.measureTooltip_.getElement().classList.add("static"),this.measureTooltip_.setOffset([0,-7]),this.createMeasureTooltip_()}},{key:"pointerMoveHandler_",value:function(e){if(!e.dragging){var t=this.helpMsg_;this.currentFeature_&&(t=this.helpMsgContinue_),M.utils.isNullOrEmpty(this.helpTooltip_)||(this.helpTooltip_.getElement().innerHTML=t,this.helpTooltip_.setPosition(e.coordinate))}}},{key:"onGeometryChange_",value:function(e){var t=e.target,n=this.formatGeometry(t),r=this.getTooltipCoordinate(t);M.utils.isNullOrEmpty(this.measureTooltip_)||(this.measureTooltip_.getElement().innerHTML=n,this.measureTooltip_.setPosition(r))}},{key:"clear",value:function(){var e=this;M.utils.isNullOrEmpty(this.layer_)||this.layer_.getSource().clear(),this.overlays_.forEach(function(t){e.facadeMap_.getMapImpl().removeOverlay(t)},this),this.overlays_.length=0}},{key:"destroy",value:function(){this.deactivate(),this.element.remove(),this.facadeMap_.removeControls(this),this.facadeMap_=null,this.overlays_.length=0}}])&&g(n.prototype,r),o&&g(n,o),t}();function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e,t,n){return(C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=L(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var A=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=T(this,L(t).call(this,"Polygon"))).helpMsg_=h.HELP_MESSAGE,e.helpMsgContinue_=K,e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,k),n=t,(r=[{key:"formatGeometry",value:function(e){var t,n,r=this.facadeMap_.getProjection();return(t=ol.sphere.getArea(e,{projection:r.code}))<=1e4?n="".concat(this.formatNumber(Math.round(100*t)/100)," m<sup>2</sup>"):t>1e4&&t<=1e6?n="".concat(this.formatNumber(Math.round(t/1e4*1e4)/1e4)," ha"):t>1e6&&(n="".concat(this.formatNumber(Math.round(t/1e6*1e4)/1e4)," km<sup>2</sup>")),n}},{key:"getTooltipCoordinate",value:function(e){return e.getInteriorPoint().getCoordinates()}},{key:"activate",value:function(){var e=this.facadeMap_.getControls().filter(function(e){return e instanceof re})[0];e&&e.deactivate(),C(L(t.prototype),"activate",this).call(this),document.querySelector(".m-control.m-measurearea-container").classList.add("activated")}},{key:"formatNumber",value:function(e){return"".concat(e).replace(/\d(?=(\d{3})+\.)/g,"$&*").split(".").join(",").split("*").join(".")}}])&&P(n.prototype,r),o&&P(n,o),t}(),N=n(4),I=n.n(N);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var F=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=new A;return e=D(this,H(t).call(this,n,I.a,t.NAME)),M.utils.isUndefined(A)&&M.Exception(l("exception.impl_area")),e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(t,h),n=t,(r=[{key:"equals",value:function(e){var n=!1;return e instanceof t&&(n=this.name===e.name),n}}])&&G(n.prototype,r),o&&G(n,o),t}();F.NAME="measurearea",F.TEMPLATE="measurearea.html";var K=l("text.keep_drawing_area");function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function J(e,t,n){return(J="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=z(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Q=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=V(this,z(t).call(this,"LineString"))).helpMsg_=h.HELP_MESSAGE,e.helpMsgContinue_=oe,e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(t,k),n=t,(r=[{key:"formatGeometry",value:function(e){var t=null,n=this.facadeMap_.getProjection().code,r=this.facadeMap_.getProjection().units;if("EPSG:3857"===n)t=Math.round(100*ol.sphere.getLength(e))/100;else if("d"===r)for(var o=e.getCoordinates(),a=0,i=o.length-1;a<i;a+=1)t+=ol.sphere.getDistance(ol.proj.transform(o[a],n,"EPSG:4326"),ol.proj.transform(o[a+1],n,"EPSG:4326"));else t=Math.round(100*e.getLength())/100;return t>1e3?"".concat(this.formatNumber(Math.round(t/1e3*100)/100)," km"):"".concat(this.formatNumber(Math.round(100*t)/100)," m")}},{key:"getTooltipCoordinate",value:function(e){return e.getLastCoordinate()}},{key:"activate",value:function(){var e=this.facadeMap_.getControls().filter(function(e){return e instanceof F})[0];e&&e.deactivate(),J(z(t.prototype),"activate",this).call(this),document.querySelector(".m-control.m-measurelength-container").classList.add("activated")}},{key:"formatNumber",value:function(e){return"".concat(e).replace(/\d(?=(\d{3})+\.)/g,"$&*").split(".").join(",").split("*").join(".")}}])&&U(n.prototype,r),o&&U(n,o),t}(),W=n(5),X=n.n(W);function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e,t){return!t||"object"!==Y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var re=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=new Q;return e=ee(this,te(t).call(this,n,X.a,t.NAME)),M.utils.isUndefined(Q)&&M.Exception(l("exception.impl_length")),e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(t,h),n=t,(r=[{key:"equals",value:function(e){var n=!1;return e instanceof t&&(n=this.name===e.name),n}}])&&Z(n.prototype,r),o&&Z(n,o),t}();re.NAME="measurelength",re.TEMPLATE="measurelength.html";var oe=l("text.keep_drawing");function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ue(e,t){return!t||"object"!==ae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var se=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=ue(this,le(t).call(this))).measureLengthControl_=e,r.facadeMap_=null,r.measureAreaControl_=n,r}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(t,M.impl.Control),n=t,(r=[{key:"addTo",value:function(e,t){this.facadeMap_=e,t.querySelector("#measurebar-clear-btn").addEventListener("click",this.onClick.bind(this)),ol.control.Control.call(this,{element:t,target:null}),e.getMapImpl().addControl(this)}},{key:"onClick",value:function(){this.measureLengthControl_.clear(),this.measureAreaControl_.clear(),this.deactivateOtherBtns()}},{key:"deactivateOtherBtns",value:function(){var e=this.facadeMap_.getControls().filter(function(e){return e instanceof re})[0];e&&e.deactivate();var t=this.facadeMap_.getControls().filter(function(e){return e instanceof F})[0];t&&t.deactivate()}},{key:"destroy",value:function(){this.element.remove(),this.facadeMap_.removeControls(this),this.facadeMap_=null}}])&&ie(n.prototype,r),o&&ie(n,o),t}(),fe=n(6),pe=n.n(fe);function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function he(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function me(e,t){return!t||"object"!==ye(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function be(e){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _e=function(e){function t(e,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=new se(e.getImpl(),n.getImpl());return r=me(this,be(t).call(this,o,t.NAME)),M.utils.isUndefined(se)&&M.Exception(l("exception.impl_clear")),r}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(t,M.Control),n=t,(r=[{key:"createView",value:function(e){return M.template.compileSync(pe.a,{jsonp:!0,vars:{translations:l("text")}})}},{key:"equals",value:function(e){var n=!1;return e instanceof t&&(n=this.name===e.name),n}},{key:"destroy",value:function(){this.getImpl().destroy(),this.impl=null}}])&&he(n.prototype,r),o&&he(n,o),t}();_e.NAME="measurebar",_e.TEMPLATE="measureclear.html";n(7);function ve(e){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function we(e,t){return!t||"object"!==ve(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Oe(e){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Me(e,t){return(Me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var je=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=we(this,Oe(t).call(this))).map_=null,e.controls_=[],e.position_=n.position,e.measureLength_=null,e.measureArea_=null,e.measureClear_=null,e}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Me(e,t)}(t,M.Plugin),n=t,i=[{key:"getJSONTranslations",value:function(e){return"en"===e||"es"===e?"en"===e?r:o:M.language.getTranslation(e).measurebar}}],(a=[{key:"addTo",value:function(e){this.map_=e,this.measureLength_=new re,this.measureArea_=new F,this.measureClear_=new _e(this.measureLength_,this.measureArea_),this.controls_.push(this.measureLength_,this.measureArea_,this.measureClear_),this.panel_=new M.ui.Panel("MeasureBar",{collapsible:!0,position:M.ui.position[this.position_],className:"m-panel-measurebar",collapsedButtonClass:"measurebar-regla",tooltip:l("text.tooltip")}),this.panel_.addControls(this.controls_),this.map_.addPanels(this.panel_)}},{key:"getAPIRest",value:function(){return"".concat(this.name,"=").concat(this.position_)}},{key:"destroy",value:function(){this.map_.removeControls([this.measureLength_,this.measureArea_,this.measureClear_]),this.map_=null,this.measureLength_=null,this.measureArea_=null,this.measureClear_=null}},{key:"getControls",value:function(){var e=[];return e.push(this.measureArea_,this.measureClear_,this.measureLength_),e}},{key:"equals",value:function(e){return e instanceof t}},{key:"name",get:function(){return"measurebar"}}])&&ge(n.prototype,a),i&&ge(n,i),t}();window.M.plugin||(window.M.plugin={}),window.M.plugin.MeasureBar=je}]);
//# sourceMappingURL=measurebar.ol.min.js.map