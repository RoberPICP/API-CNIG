{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/templates/predefinedzoom.html","webpack:///./src/templates/viewhistory.html","webpack:///./src/templates/viewmanagement.html","webpack:///./src/templates/zoompanel.html","webpack:///./src/impl/ol/js/predefinedzoomcontrol.js","webpack:///./src/facade/js/i18n/language.js","webpack:///./src/facade/js/predefinedzoomcontrol.js","webpack:///./src/impl/ol/js/viewhistorycontrol.js","webpack:///./src/facade/js/viewhistorycontrol.js","webpack:///./src/impl/ol/js/viewmanagement.js","webpack:///./src/impl/ol/js/zoompanelcontrol.js","webpack:///./src/facade/js/zoompanelcontrol.js","webpack:///./src/impl/ol/js/zoomextentcontrol.js","webpack:///./src/facade/js/zoomextentcontrol.js","webpack:///./src/facade/js/viewmanagementcontrol.js","webpack:///./src/facade/js/viewmanagement.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","PredefinedZoomControl","_M$impl$Control","_inherits","M","impl","Control","_super","_createSuper","_classCallCheck","apply","arguments","translations","en","es","getLang","res","language","getTranslation","lang","viewmanagement","getValue","keyPath","length","undefined","translation","utils","isNullOrEmpty","console","warn","concat","split","reduce","prev","current","_M$Control","map","predefinedzoom","_this","isUndefined","PredefinedZoomImpl","exception","savedZooms_","html","_this2","predefinedzoomactive","querySelector","classList","contains","this","deactive","isArray","add","panel","template","compileSync","forEach","customZoom","newDiv","document","createElement","newBtn","setAttribute","bbox","addEventListener","zoomToGivenBox","center","zoom","zoomToCenter","newSpan","textContent","appendChild","element","remove","removeChild","setTimeout","setBbox","setCenter","setZoom","control","Properties","resolution","_createClass","properties","equals","ViewHistoryControl","facadeMap_","history_","historyNow_","clickBtn_","registerZoom_","regZoom","registerZoomEvent_","getMapImpl","on","getView","getCenter","getResolution","previousProperties","slice","previousCenter","previousResolution","setResolution","nextCenter","nextResolution","un","ViewHistoryImpl","registerViewEvents_","getImpl","registerViewEvents","viewhistoryactive","vars","previousView","nextView","previousStep_","nextStep_","evt","preventDefault","target","nextStep","previousStep","unRegisterViewEvents","ViewManagementControl","_get","_getPrototypeOf","coordinates","srs","mapsrs","getProjection","code","ol","proj","transform","ZoomPanelControl","ZoomPanelImpl","zoompanelactive","zoomin","zoomout","zoomInBtn","zoomOutBtn","getZoom","ZoomExtentControl","dragZoom","interaction","DragZoom","condition","setActive","addInteraction","removeEventListener","removeInteraction","ZoomExtentImpl","createInteraction","activateClick","map_","escKey_","checkEscKey","deactivateClick","isDraggable","zoomextent","viewhistory","zoompanel","order","ViewManagementImpl","predefinedzoom_","zoomextent_","viewhistory_","zoompanel_","isDraggable_","Promise","success","fail","headertitle","predefinedzoomControl","transformCenter","active","_ref","zoomextentControl","_ref2","viewhistoryControl","_ref3","zoompanelControl","_ref4","draggabillyPlugin","getPanel","accessibilityTab","querySelectorAll","id","includes","container","children","_this3","el","destroy","ViewManagement","_M$Plugin","Plugin","options","controls_","position_","position","collapsed","collapsible","tooltip_","tooltip","predefinedZoom","getPredefinedZoom","zoomExtent","dialog","error","push","panel_","ui","Panel","className","collapsedButtonClass","addControls","addPanels","isDefault","isDraggableE","encodeBase64","removeControls","plugin","window","M$control$PredefinedZoomControl","M$control$ViewHistoryControl","M$plugin$ViewManagement","M$control$ViewManagementControl","M$control$ZoomExtentControl","M$control$ZoomPanelControl","M$impl$control$PredefinedZoomControl","M$impl$control$ViewHistoryControl","M$impl$control$ViewManagementControl","M$impl$control$ZoomExtentControl","M$impl$control$ZoomPanelControl"],"mappings":"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","file":"viewmanagement.ol.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n","module.exports = \"<div id=\\\"m-predefinedzoom-panel\\\"></div>\";","module.exports = \"<div id=\\\"m-viewhistory-panel\\\">\\n    <button id=\\\"m-historyprevious-button\\\" class=\\\"viewmanagement-icon-flecha-izquierda3\\\" title=\\\"{{translations.previousView}}\\\"></button>\\n    <button id=\\\"m-historynext-button\\\" class=\\\"viewmanagement-icon-flecha-derecha3\\\" title=\\\"{{translations.nextView}}\\\"></button>\\n</div>\";","module.exports = \"<div aria-label=\\\"Plugin View Management\\\" role=\\\"menuitem\\\" id=\\\"div-contenedor-viewmanagement\\\" class=\\\"m-control m-container m-viewmanagement\\\">\\n    <div role=\\\"heading\\\" tabindex=\\\"0\\\" id=\\\"m-viewmanagement-title\\\">{{translations.headertitle}}</div>\\n    <div id=\\\"m-viewmanagement-previews\\\">\\n        {{#if predefinedzoom}}\\n            <div role=\\\"button\\\" tabindex=\\\"0\\\" id=\\\"m-viewmanagement-predefinedzoom\\\" title=\\\"{{translations.predefinedzoom}}\\\" class=\\\"viewmanagement-icon-home\\\"></div>\\n        {{/if}}\\n        {{#if zoomextent}}\\n            <div tabindex=\\\"0\\\" id=\\\"m-viewmanagement-zoomextent\\\" title=\\\"{{translations.zoomextent}}\\\" class=\\\"viewmanagement-icon-zoom-extension\\\"></div>\\n        {{/if}}\\n        {{#if viewhistory}}\\n            <div tabindex=\\\"0\\\" id=\\\"m-viewmanagement-viewhistory\\\" title=\\\"{{translations.viewhistory}}\\\" class=\\\"viewmanagement-icon-flecha-historial\\\"></div>\\n        {{/if}}\\n        {{#if zoompanel}}\\n            <div tabindex=\\\"0\\\" id=\\\"m-viewmanagement-zoompanel\\\" title=\\\"{{translations.zoompanel}}\\\" class=\\\"viewmanagement-icon-zoompanel\\\"></div>\\n        {{/if}}\\n    </div>\\n</div>\";","module.exports = \"<div id=\\\"m-zoompanel-panel\\\">\\n  <button type=\\\"button\\\" tabindex=\\\"0\\\" id=\\\"m-zoompanel-zoomin\\\" class=\\\"viewmanagement-icon-zoom-in\\\"\\n    title=\\\"{{translations.zoomin}}\\\"></button>\\n  <button type=\\\"button\\\" tabindex=\\\"0\\\" id=\\\"m-zoompanel-zoomout\\\" class=\\\"viewmanagement-icon-zoom-out\\\"\\n    title=\\\"{{translations.zoomout}}\\\"></button>\\n</div>\";","/**\n * @module M/impl/control/PredefinedZoomControl\n */\n\nexport default class PredefinedZoomControl extends M.impl.Control {\n}\n","import en from './en';\nimport es from './es';\n\n/**\n * Default object with es and en translate.\n *\n * @const\n * @type {object}\n */\nconst translations = {\n  en,\n  es,\n};\n\nconst getLang = () => {\n  let res = 'es';\n  if (typeof M.language.getLang === 'function') {\n    res = M.language.getLang();\n  }\n\n  return res;\n};\n\n/**\n * This function sets a new language translate.\n * @param {string} lang\n * @param {JSON} json\n * @public\n * @api\n */\nexport const addTranslation = (lang, json) => {\n  translations[lang] = json;\n};\n\n/**\n * This function gets a language translate.\n *\n * @param {string} lang\n * @return {JSON}\n * @public\n * @api\n */\nexport const getTranslation = (lang) => {\n  if (lang === 'es' || lang === 'en') {\n    return translations[lang];\n  }\n  return M.language.getTranslation(lang).viewmanagement;\n};\n\n/**\n * This function gets a language value from key\n *\n * @public\n * @param {string}\n * @param {string}\n * @return {string}\n * @public\n * @api\n */\n\nexport const getValue = (keyPath, lang = getLang()) => {\n  const translation = getTranslation(lang);\n  let value = '';\n  if (M.utils.isNullOrEmpty(translation)) {\n    /* eslint-disable no-console */\n    console.warn(`The translation '${lang}' has not been defined.`);\n  } else {\n    value = keyPath.split('.').reduce((prev, current) => prev[current], translation);\n  }\n\n  return value;\n};\n","/**\n * @module M/control/PredefinedZoomControl\n */\nimport template from 'templates/predefinedzoom';\nimport PredefinedZoomImpl from '../../impl/ol/js/predefinedzoomcontrol';\nimport { getValue } from './i18n/language';\n\nexport default class PredefinedZoomControl extends M.Control {\n  /**\n   * Main constructor of the class. Creates a PluginControl\n   * control\n   *\n   * @constructor\n   * @extends {M.Control}\n   * @api\n   */\n  constructor(map, predefinedzoom) {\n    if (M.utils.isUndefined(PredefinedZoomImpl)) {\n      M.exception(getValue('exception.impl_predefinedzoom'));\n    }\n    const impl = new PredefinedZoomImpl();\n    super(impl, 'PredefinedZoomImpl');\n\n    this.savedZooms_ = predefinedzoom;\n    this.map = map;\n  }\n\n  /**\n   * This functions active control\n   *\n   * @public\n   * @function\n   * @param {Node} html\n   * @api\n   */\n  active(html) {\n    const predefinedzoomactive = html.querySelector('#m-viewmanagement-predefinedzoom').classList.contains('activated');\n    this.deactive(html);\n    if (!predefinedzoomactive) {\n      if (M.utils.isArray(this.savedZooms_) && this.savedZooms_.length > 1) {\n        // predefinedZoom is an array with more than one zoom level\n        html.querySelector('#m-viewmanagement-predefinedzoom').classList.add('activated');\n        const panel = M.template.compileSync(template);\n        this.savedZooms_.forEach((customZoom) => {\n          const newDiv = document.createElement('div');\n          newDiv.classList.add('m-predefinedzoom-button-container');\n          const newBtn = document.createElement('button');\n          newBtn.setAttribute('class', 'viewmanagement-icon-expand');\n          newBtn.setAttribute('id', `m-predefinedzoom-${customZoom.name}`);\n          newBtn.setAttribute('title', customZoom.name);\n          if (customZoom.bbox !== undefined) {\n            newBtn.addEventListener('click', () => this.zoomToGivenBox(newBtn, customZoom.bbox));\n          } else if (customZoom.center !== undefined && customZoom.zoom !== undefined) {\n            newBtn.addEventListener('click', () => this.zoomToCenter(newBtn, customZoom.center, customZoom.zoom));\n          }\n          const newSpan = document.createElement('span');\n          newSpan.classList.add('m-predefinedzoom-namezoom');\n          newSpan.textContent = customZoom.name;\n          newDiv.appendChild(newBtn);\n          newDiv.appendChild(newSpan);\n          panel.appendChild(newDiv);\n        });\n        document.querySelector('#div-contenedor-viewmanagement').appendChild(panel);\n      } else {\n        // predefinedZoom: true or array with one zoom level\n        const element = html.querySelector('#m-viewmanagement-predefinedzoom');\n        element.classList.add('activated');\n        if (this.savedZooms_[0].bbox !== undefined) {\n          this.zoomToGivenBox(element, this.savedZooms_[0].bbox);\n        } else if (this.savedZooms_[0].center !== undefined &&\n          this.savedZooms_[0].zoom !== undefined) {\n          this.zoomToCenter(element, this.savedZooms_[0].center, this.savedZooms_[0].zoom);\n        }\n      }\n    }\n  }\n\n  /**\n   * This functions deactive control\n   *\n   * @public\n   * @function\n   * @param {Node} html\n   * @api\n   */\n  deactive(html) {\n    html.querySelector('#m-viewmanagement-predefinedzoom').classList.remove('activated');\n    const panel = html.querySelector('#m-predefinedzoom-panel');\n    if (panel) {\n      document.querySelector('#div-contenedor-viewmanagement').removeChild(panel);\n    }\n  }\n\n  /**\n   * Zooms to predefined Bbox.\n   *\n   * @function\n   * @public\n   * @param {Node} element\n   * @param {Array} bbox\n   * @api\n   */\n  zoomToGivenBox(element, bbox) {\n    element.classList.add('activated');\n    setTimeout(() => {\n      element.classList.remove('activated');\n    }, 1000);\n    this.map.setBbox(bbox);\n  }\n\n  /**\n   * Zooms to predefined center with a zoom level.\n   *\n   * @function\n   * @public\n   * @param {Node} element\n   * @param {Array} center\n   * @param {Number} zoom\n   * @api\n   */\n  zoomToCenter(element, center, zoom) {\n    element.classList.add('activated');\n    setTimeout(() => {\n      element.classList.remove('activated');\n    }, 1000);\n    this.map.setCenter(center);\n    this.map.setZoom(zoom);\n  }\n\n  /**\n   * This function compares controls\n   *\n   * @public\n   * @function\n   * @param {M.Control} control to compare\n   * @api\n   */\n  equals(control) {\n    return control instanceof PredefinedZoomControl;\n  }\n}\n","/**\n * @module M/impl/control/ViewHistoryControl\n */\n\n/**\n * @class Properties\n */\nclass Properties {\n  constructor(center, resolution) {\n    this.center = center;\n    this.resolution = resolution;\n  }\n\n  equals(properties) {\n    let equals = false;\n    if (properties instanceof Properties) {\n      equals = properties.center[0] === this.center[0] &&\n        properties.center[1] === this.center[1] &&\n        properties.resolution === this.resolution;\n    }\n    return equals;\n  }\n}\nexport default class ViewHistoryControl extends M.impl.Control {\n  constructor(map) {\n    super();\n\n    this.facadeMap_ = map;\n    /**\n     * List of navigated views. { center: [lng, lat], resolution: x }\n     * @private\n     */\n    this.history_ = [];\n\n    /**\n     * Counter for current view index on this.history_.\n     * @private\n     */\n    this.historyNow_ = -1;\n\n    /**\n     * Checks if next view is already saved.\n     * @private\n     */\n    this.clickBtn_ = false;\n  }\n\n  /**\n   * This function call registerZoom_ function\n   * to be able to removeEventListener\n   *\n   * @function\n   * @private\n   * @api\n   */\n  registerZoomEvent_() {\n    this.registerZoom_();\n  }\n\n  /**\n   * This function registers view events on map.\n   *\n   * @function\n   * @public\n   * @api\n   */\n  registerViewEvents() {\n    this.regZoom = this.registerZoomEvent_.bind(this);\n    this.facadeMap_.getMapImpl().on('moveend', this.regZoom);\n  }\n\n  /**\n   * This function registers zoom on history.\n   *\n   * @function\n   * @private\n   */\n  registerZoom_() {\n    if (this.clickBtn_) {\n      this.clickBtn_ = false;\n      return;\n    }\n    const properties = new Properties(\n      this.facadeMap_.getMapImpl().getView().getCenter(),\n      this.facadeMap_.getMapImpl().getView().getResolution(),\n    );\n    const previousProperties = this.history_[this.historyNow_];\n    if (!properties.equals(previousProperties)) {\n      this.history_ = this.history_.slice(0, this.historyNow_ + 1)\n        .concat(properties)\n        .concat(this.history_.slice(this.historyNow_ + 1));\n      this.historyNow_ += 1;\n    }\n    this.clickBtn_ = false;\n  }\n\n  /**\n   * This function shows the previous zoom change to the map.\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  previousStep() {\n    if (this.historyNow_ > 0) {\n      const previousCenter = this.history_[this.historyNow_ - 1].center;\n      const previousResolution = this.history_[this.historyNow_ - 1].resolution;\n      this.clickBtn_ = true;\n      this.historyNow_ -= 1;\n      this.facadeMap_.getMapImpl().getView().setCenter(previousCenter);\n      this.facadeMap_.getMapImpl().getView().setResolution(previousResolution);\n    }\n  }\n\n  /**\n   * This function shows the next zoom change to the map\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  nextStep() {\n    if (this.historyNow_ < this.history_.length - 1) {\n      const nextCenter = this.history_[this.historyNow_ + 1].center;\n      const nextResolution = this.history_[this.historyNow_ + 1].resolution;\n      this.clickBtn_ = true;\n      this.historyNow_ += 1;\n      this.facadeMap_.getMapImpl().getView().setCenter(nextCenter);\n      this.facadeMap_.getMapImpl().getView().setResolution(nextResolution);\n    }\n  }\n\n  /**\n   * This functions cancels the moveend event for this control\n   *\n   * @public\n   * @function\n   * @api\n   */\n  unRegisterViewEvents() {\n    this.facadeMap_.getMapImpl().un('moveend', this.regZoom);\n  }\n}\n","/**\n * @module M/control/ViewHistoryControl\n */\n\nimport template from 'templates/viewhistory';\nimport ViewHistoryImpl from '../../impl/ol/js/viewhistorycontrol';\nimport { getValue } from './i18n/language';\n\nexport default class ViewHistoryControl extends M.Control {\n  /**\n   * Main constructor of the class. Creates a PluginControl\n   * control\n   *\n   * @constructor\n   * @extends {M.Control}\n   * @api\n   */\n  constructor(map) {\n    if (M.utils.isUndefined(ViewHistoryImpl)) {\n      M.exception(getValue('exception.impl_viewhistory'));\n    }\n    const impl = new ViewHistoryImpl(map);\n    super(impl, 'ViewHistoryImpl');\n\n    this.registerViewEvents_();\n  }\n\n  /**\n   * This function registers view events on map\n   *\n   * @function\n   * @private\n   */\n  registerViewEvents_() {\n    this.getImpl().registerViewEvents();\n  }\n\n  /**\n   * This functions active control\n   *\n   * @public\n   * @function\n   * @param {Node} html\n   * @api\n   */\n  active(html) {\n    const viewhistoryactive = html.querySelector('#m-viewmanagement-viewhistory').classList.contains('activated');\n    this.deactive(html);\n    if (!viewhistoryactive) {\n      html.querySelector('#m-viewmanagement-viewhistory').classList.add('activated');\n      const panel = M.template.compileSync(template, {\n        vars: {\n          translations: {\n            previousView: getValue('previousView'),\n            nextView: getValue('nextView'),\n          },\n        },\n      });\n      document.querySelector('#div-contenedor-viewmanagement').appendChild(panel);\n      html.querySelector('#m-historyprevious-button').addEventListener('click', this.previousStep_.bind(this));\n      html.querySelector('#m-historynext-button').addEventListener('click', this.nextStep_.bind(this));\n    }\n  }\n\n  /**\n   * This functions deactive control\n   *\n   * @public\n   * @function\n   * @param {Node} html\n   * @api\n   */\n  deactive(html) {\n    html.querySelector('#m-viewmanagement-viewhistory').classList.remove('activated');\n    const panel = html.querySelector('#m-viewhistory-panel');\n    if (panel) {\n      document.querySelector('#div-contenedor-viewmanagement').removeChild(panel);\n    }\n  }\n\n  /**\n   * This function shows the next zoom change to the map\n   *\n   * @private\n   * @function\n   * @param {Event} evt - Event\n   */\n  nextStep_(evt) {\n    evt.preventDefault();\n    evt.target.classList.add('activated');\n    setTimeout(() => {\n      evt.target.classList.remove('activated');\n    }, 1000);\n    this.getImpl().nextStep();\n  }\n\n  /**\n   * This function shows the previous zoom change to the map\n   *\n   * @private\n   * @function\n   * @param {Event} evt - Event\n   */\n  previousStep_(evt) {\n    evt.preventDefault();\n    evt.target.classList.add('activated');\n    setTimeout(() => {\n      evt.target.classList.remove('activated');\n    }, 1000);\n    this.getImpl().previousStep();\n  }\n\n  /**\n   * This function compares controls\n   *\n   * @public\n   * @function\n   * @param {M.Control} control to compare\n   * @api\n   */\n  equals(control) {\n    return control instanceof ViewHistoryControl;\n  }\n\n  /**\n   * This function destroys this control\n   *\n   * @public\n   * @function\n   * @api\n   */\n  destroy() {\n    this.getImpl().unRegisterViewEvents();\n  }\n}\n","/**\n * @module M/impl/control/ViewManagementControl\n */\nexport default class ViewManagementControl extends M.impl.Control {\n  /**\n   * This function adds the control to the specified map\n   *\n   * @public\n   * @function\n   * @param {M.Map} map to add the plugin\n   * @param {HTMLElement} html of the plugin\n   * @api stable\n   */\n  addTo(map, html) {\n    // super addTo - don't delete\n    super.addTo(map, html);\n\n    this.facadeMap_ = map;\n  }\n\n  /**\n   * This functions transform coordinates of center to the\n   * predefined zoom\n   *\n   * @public\n   * @function\n   * @param {Array} coordinates Coordinates\n   * @param {String} srs SRS\n   * @returns Coordinates transformed\n   * @api\n   */\n  transformCenter(coordinates, srs) {\n    const mapsrs = this.facadeMap_.getProjection().code;\n    return ol.proj.transform(coordinates, srs, mapsrs);\n  }\n}\n","/**\n * @module M/impl/control/ZoomPanelControl\n */\n\nexport default class ZoomPanelControl extends M.impl.Control {\n}\n","/**\n * @module M/control/ZoomPanelControl\n */\nimport template from 'templates/zoompanel';\nimport ZoomPanelImpl from '../../impl/ol/js/zoompanelcontrol';\nimport { getValue } from './i18n/language';\n\n\nexport default class ZoomPanelControl extends M.Control {\n  /**\n   * Main constructor of the class. Creates a PluginControl\n   * control\n   *\n   * @constructor\n   * @extends {M.Control}\n   * @api\n   */\n  constructor(map) {\n    if (M.utils.isUndefined(ZoomPanelImpl)) {\n      M.exception(getValue('exception.impl_zoompanel'));\n    }\n    const impl = new ZoomPanelImpl();\n    super(impl, 'ZoomPanelImpl');\n    this.facadeMap_ = map;\n  }\n\n  /**\n   * This functions active control\n   *\n   * @public\n   * @function\n   * @param {Node} html\n   * @api\n   */\n  active(html) {\n    const zoompanelactive = html.querySelector('#m-viewmanagement-zoompanel').classList.contains('activated');\n    this.deactive(html);\n    if (!zoompanelactive) {\n      html.querySelector('#m-viewmanagement-zoompanel').classList.add('activated');\n      const panel = M.template.compileSync(template, {\n        vars: {\n          translations: {\n            zoomin: getValue('zoomin'),\n            zoomout: getValue('zoomout'),\n          },\n        },\n      });\n      document.querySelector('#div-contenedor-viewmanagement').appendChild(panel);\n      const zoomInBtn = html.querySelector('button#m-zoompanel-zoomin');\n      const zoomOutBtn = html.querySelector('button#m-zoompanel-zoomout');\n      zoomInBtn.addEventListener('click', (evt) => {\n        evt.target.classList.add('activated');\n        setTimeout(() => {\n          evt.target.classList.remove('activated');\n        }, 1000);\n        this.facadeMap_.setZoom(this.facadeMap_.getZoom() + 1);\n      });\n\n      zoomOutBtn.addEventListener('click', (evt) => {\n        evt.target.classList.add('activated');\n        setTimeout(() => {\n          evt.target.classList.remove('activated');\n        }, 1000);\n        this.facadeMap_.setZoom(this.facadeMap_.getZoom() - 1);\n      });\n    }\n  }\n\n  /**\n   * This functions deactive control\n   *\n   * @public\n   * @function\n   * @param {Node} html\n   * @api\n   */\n  deactive(html) {\n    html.querySelector('#m-viewmanagement-zoompanel').classList.remove('activated');\n    const panel = html.querySelector('#m-zoompanel-panel');\n    if (panel) {\n      document.querySelector('#div-contenedor-viewmanagement').removeChild(panel);\n    }\n  }\n\n  /**\n   * This function compares controls\n   *\n   * @public\n   * @function\n   * @param {M.Control} control to compare\n   * @api\n   */\n  equals(control) {\n    return control instanceof ZoomPanelControl;\n  }\n}\n","/**\n * @module M/impl/control/ZoomExtentControl\n */\n\nexport default class ZoomExtentControl extends M.impl.Control {\n  /**\n   * This function create DragZoom interaction\n   *\n   * @public\n   * @function\n   * @param {M.Map} map Map\n   * @api\n   */\n  createInteraction(map) {\n    this.facadeMap_ = map;\n    this.dragZoom = new ol.interaction.DragZoom({\n      condition: () => true,\n    });\n    this.dragZoom.setActive(false);\n    this.facadeMap_.getMapImpl().addInteraction(this.dragZoom);\n  }\n\n  /**\n   * This function is called on the control activation\n   *\n   * @public\n   * @function\n   * @param {M.Map} map Map\n   * @api\n   */\n  activateClick(map) {\n    this.dragZoom.setActive(true);\n  }\n\n  /**\n   * This function is called on the control deactivation\n   *\n   * @public\n   * @function\n   * @param {M.Map} map Map\n   * @api\n   */\n  deactivateClick(map) {\n    this.dragZoom.setActive(false);\n  }\n\n  /**\n   * This function remove interaction of the control\n   *\n   * @public\n   * @function\n   * @api\n   */\n  removeInteraction() {\n    this.facadeMap_.getMapImpl().removeEventListener('keydown');\n    this.facadeMap_.getMapImpl().removeInteraction(this.dragZoom);\n  }\n}\n","/**\n * @module M/control/ZoomExtentControl\n */\n\nimport ZoomExtentImpl from '../../impl/ol/js/zoomextentcontrol';\nimport { getValue } from './i18n/language';\n\nexport default class ZoomExtentControl extends M.Control {\n  /**\n   * Main constructor of the class. Creates a PluginControl\n   * control\n   *\n   * @constructor\n   * @extends {M.Control}\n   * @api\n   */\n  constructor(map) {\n    if (M.utils.isUndefined(ZoomExtentImpl)) {\n      M.exception(getValue('exception.impl_zoomextent'));\n    }\n    const impl = new ZoomExtentImpl();\n    super(impl, 'ZoomExtentImpl');\n    this.getImpl().createInteraction(map);\n  }\n\n  /**\n   * This functions active control\n   *\n   * @public\n   * @function\n   * @param {Node} html\n   * @api\n   */\n  active(html) {\n    const zoomextentactive = html.querySelector('#m-viewmanagement-zoomextent').classList.contains('activated');\n    if (!zoomextentactive) {\n      html.querySelector('#m-viewmanagement-zoomextent').classList.add('activated');\n      this.getImpl().activateClick(this.map_);\n      this.escKey_ = this.checkEscKey.bind(this);\n      document.addEventListener('keydown', this.escKey_);\n    } else {\n      this.deactive();\n    }\n  }\n\n  /**\n   * This function disables control when pressing\n   * the Escape key\n   *\n   * @public\n   * @function\n   * @param {Event} evt\n   * @api\n   */\n  checkEscKey(evt) {\n    if (evt.key === 'Escape') {\n      this.deactive();\n      document.removeEventListener('keydown', this.escKey_);\n    }\n  }\n\n  /**\n   * This functions deactive control\n   *\n   * @public\n   * @function\n   * @param {Node} html\n   * @api\n   */\n  deactive() {\n    document.querySelector('#m-viewmanagement-zoomextent').classList.remove('activated');\n    this.getImpl().deactivateClick(this.map_);\n  }\n\n  /**\n    * This function compares controls\n    *\n    * @public\n    * @function\n    * @param {M.Control} control to compare\n    * @api\n    */\n  equals(control) {\n    return control instanceof ZoomExtentControl;\n  }\n\n  /**\n   * This function destroys this control\n   *\n   * @public\n   * @function\n   * @api\n   */\n  destroy() {\n    this.getImpl().removeInteraction();\n    document.removeEventListener('keydown', this.escKey_);\n  }\n}\n","/**\n * @module M/control/ViewManagementControl\n */\n\nimport template from '../../templates/viewmanagement';\nimport ViewManagementImpl from '../../impl/ol/js/viewmanagement';\nimport { getValue } from './i18n/language';\nimport ViewHistoryControl from './viewhistorycontrol';\nimport ZoomPanelControl from './zoompanelcontrol';\nimport PredefinedZoomControl from './predefinedzoomcontrol';\nimport ZoomExtentControl from './zoomextentcontrol';\n\nexport default class ViewManagementControl extends M.Control {\n  /**\n   * Main constructor of the class. Creates a PluginControl\n   * control\n   *\n   * @constructor\n   * @extends {M.Control}\n   * @api\n   */\n  constructor(isDraggable, predefinedzoom, zoomextent, viewhistory, zoompanel, order) {\n    if (M.utils.isUndefined(ViewManagementImpl)) {\n      M.exception(getValue('exception.impl'));\n    }\n\n    const impl = new ViewManagementImpl();\n    super(impl, 'ViewManagement');\n    /**\n     * Indicates if the control PredefinedZoom is added to the plugin\n     * @private\n     * @type {Boolean|Array<Object>}\n     */\n\n    this.predefinedzoom_ = predefinedzoom;\n\n    /**\n     * Indicates if the control ZoomExtent is added to the plugin\n     * @private\n     * @type {Boolean}\n     */\n    this.zoomextent_ = zoomextent;\n\n    /**\n     * Indicates if the control ViewHistory is added to the plugin\n     * @private\n     * @type {Boolean}\n     */\n    this.viewhistory_ = viewhistory;\n\n    /**\n     * Indicates if the control ZoomPanel is added to the plugin\n     * @private\n     * @type {Boolean}\n     */\n    this.zoompanel_ = zoompanel;\n\n    /**\n     * Option to allow the plugin to be draggable or not\n     * @private\n     * @type {Boolean}\n     */\n    this.isDraggable_ = isDraggable;\n\n    /**\n     * Order of plugin\n     * @public\n     * @type {Number}\n     */\n    this.order = order;\n  }\n\n  /**\n   * This function creates the view\n   *\n   * @public\n   * @function\n   * @param {M.Map} map to add the control\n   * @api\n   */\n  createView(map) {\n    this.map_ = map;\n    return new Promise((success, fail) => {\n      const html = M.template.compileSync(template, {\n        vars: {\n          predefinedzoom: this.predefinedzoom_,\n          zoomextent: this.zoomextent_,\n          viewhistory: this.viewhistory_,\n          zoompanel: this.zoompanel_,\n          translations: {\n            headertitle: getValue('tooltip'),\n            predefinedzoom: getValue('predefinedzoom'),\n            zoomextent: getValue('zoomextent'),\n            viewhistory: getValue('viewhistory'),\n            zoompanel: getValue('zoompanel'),\n          },\n        },\n      });\n      this.html = html;\n      if (this.predefinedzoom_) {\n        this.predefinedzoomControl = new PredefinedZoomControl(map, this.predefinedzoom_);\n        if ('isDefault' in this.predefinedzoom_) {\n          this.predefinedzoom_[0].center = this.getImpl().transformCenter(this.predefinedzoom_[0].center, 'EPSG:3857');\n        }\n        html.querySelector('#m-viewmanagement-predefinedzoom').addEventListener('click', () => {\n          this.deactive(html, 'predefinedzoom');\n          this.predefinedzoomControl.active(html);\n        });\n        html.querySelector('#m-viewmanagement-predefinedzoom').addEventListener('keydown', ({ key }) => {\n          if (key === 'Enter') {\n            this.deactive(html, 'predefinedzoom');\n            this.predefinedzoomControl.active(html);\n          }\n        });\n      }\n      if (this.zoomextent_) {\n        this.zoomextentControl = new ZoomExtentControl(map);\n        html.querySelector('#m-viewmanagement-zoomextent').addEventListener('click', () => {\n          this.deactive(html, 'zoomextent');\n          this.zoomextentControl.active(html);\n        });\n        html.querySelector('#m-viewmanagement-zoomextent').addEventListener('keydown', ({ key }) => {\n          if (key === 'Enter') {\n            this.deactive(html, 'zoomextent');\n            this.zoomextentControl.active(html);\n          }\n        });\n      }\n      if (this.viewhistory_) {\n        this.viewhistoryControl = new ViewHistoryControl(map);\n        html.querySelector('#m-viewmanagement-viewhistory').addEventListener('click', () => {\n          this.deactive(html, 'viewhistory');\n          this.viewhistoryControl.active(html);\n        });\n        html.querySelector('#m-viewmanagement-viewhistory').addEventListener('keydown', ({ key }) => {\n          if (key === 'Enter') {\n            this.deactive(html, 'viewhistory');\n            this.viewhistoryControl.active(html);\n          }\n        });\n      }\n      if (this.zoompanel_) {\n        this.zoompanelControl = new ZoomPanelControl(map);\n        html.querySelector('#m-viewmanagement-zoompanel').addEventListener('click', () => {\n          this.deactive(html, 'zoompanel');\n          this.zoompanelControl.active(html);\n        });\n        html.querySelector('#m-viewmanagement-zoompanel').addEventListener('keydown', ({ key }) => {\n          if (key === 'Enter') {\n            this.deactive(html, 'zoompanel');\n            this.zoompanelControl.active(html);\n          }\n        });\n      }\n      if (this.isDraggable_) {\n        M.utils.draggabillyPlugin(this.getPanel(), '#m-viewmanagement-title');\n      }\n      this.accessibilityTab(html);\n      success(html);\n    });\n  }\n\n  /**\n   * This function compares controls\n   *\n   * @public\n   * @function\n   * @param {M.Control} control to compare\n   * @api\n   */\n  equals(control) {\n    return control instanceof ViewManagementControl;\n  }\n\n  /**\n   * This function deactivates the activated control\n   * before activating another\n   *\n   * @public\n   * @function\n   * @param {Node} html\n   * @param {String} control\n   * @api\n   */\n  deactive(html, control) {\n    const active = html.querySelectorAll('#m-viewmanagement-previews .activated')[0];\n    if (active && !active.id.includes(control)) {\n      if (active.id === 'm-viewmanagement-zoomextent') {\n        this.zoomextentControl.deactive();\n      }\n      active.classList.remove('activated');\n      const container = document.querySelector('#div-contenedor-viewmanagement');\n      if (container && container.children.length > 2) {\n        container.removeChild(container.children[2]);\n      }\n    }\n  }\n\n  /**\n   * This function changes number of tabindex\n   *\n   * @public\n   * @function\n   * @param {Node} html\n   * @api\n   */\n  accessibilityTab(html) {\n    html.querySelectorAll('[tabindex=\"0\"]').forEach(el => el.setAttribute('tabindex', this.order));\n  }\n\n  /**\n   * This function destroys controls inside this control\n   *\n   * @public\n   * @function\n   * @api\n   */\n  destroy() {\n    if (!M.utils.isNullOrEmpty(this.zoomextentControl)) {\n      this.zoomextentControl.destroy();\n    }\n    if (!M.utils.isNullOrEmpty(this.viewhistoryControl)) {\n      this.viewhistoryControl.destroy();\n    }\n  }\n}\n","/**\n * @module M/plugin/ViewManagement\n */\nimport '../assets/css/viewmanagement';\nimport ViewManagementControl from './viewmanagementcontrol';\nimport es from './i18n/es';\nimport en from './i18n/en';\nimport { getValue } from './i18n/language';\n\nexport default class ViewManagement extends M.Plugin {\n  /**\n   * @classdesc\n   * Main facade plugin object. This class creates a plugin\n   * object which has an implementation Object\n   *\n   * @constructor\n   * @extends {M.Plugin}\n   * @param {Object} impl implementation object\n   * @api\n   */\n  constructor(options = {}) {\n    super();\n    /**\n     * Facade of the map\n     * @private\n     * @type {M.Map}\n     */\n    this.map_ = null;\n\n    /**\n     * Array of controls\n     * @private\n     * @type {Array<M.Control>}\n     */\n    this.controls_ = [];\n\n    /**\n     * Plugin name\n     * @public\n     * @type {String}\n     */\n    this.name = 'viewmanagement';\n\n    /**\n     * Plugin parameters\n     * @public\n     * @type {Object}\n     */\n    this.options = options;\n\n    /**\n     * Position of the plugin\n     *\n     * @private\n     * @type {String} TL | TR | BL | BR\n     */\n    this.position_ = options.position || 'TL';\n\n    /**\n     * Option to allow the plugin to be collapsed or not\n     * @private\n     * @type {Boolean}\n     */\n    this.collapsed = !M.utils.isUndefined(options.collapsed) ? options.collapsed : true;\n\n    /**\n     * Option to allow the plugin to be collapsible or not\n     * @private\n     * @type {Boolean}\n     */\n    this.collapsible = !M.utils.isUndefined(options.collapsible) ? options.collapsible : true;\n\n    /**\n     * Tooltip of plugin\n     * @private\n     * @type {String}\n     */\n    this.tooltip_ = options.tooltip || getValue('tooltip');\n\n    /**\n     * Option to allow the plugin to be draggable or not\n     * @private\n     * @type {Boolean}\n     */\n    this.isDraggable = !M.utils.isUndefined(options.isDraggable) ? options.isDraggable : false;\n\n    /**\n     * Indicates if the control PredefinedZoom is added to the plugin\n     * @private\n     * @type {Boolean|Array<Object>}\n     */\n    this.predefinedzoom = M.utils.isUndefined(options.predefinedZoom) ||\n      options.predefinedZoom === true ?\n      this.getPredefinedZoom() : options.predefinedZoom;\n\n    /**\n     * Indicates if the control ZoomExtent is added to the plugin\n     * @private\n     * @type {Boolean}\n     */\n    this.zoomextent = !M.utils.isUndefined(options.zoomExtent) ? options.zoomExtent : true;\n\n    /**\n     * Indicates if the control ViewHistory is added to the plugin\n     * @private\n     * @type {Boolean}\n     */\n    this.viewhistory = !M.utils.isUndefined(options.viewhistory) ? options.viewhistory : true;\n\n    /**\n     * Indicates if the control ZoomPanel is added to the plugin\n     * @private\n     * @type {Boolean}\n     */\n    this.zoompanel = !M.utils.isUndefined(options.zoompanel) ? options.zoompanel : true;\n\n    /**\n     * Indicates order to the plugin\n     * @private\n     * @type {Number}\n     */\n    this.order = options.order >= -1 ? options.order : null;\n  }\n\n  /**\n   * Return plugin language\n   *\n   * @public\n   * @function\n   * @param {string} lang type language\n   * @api\n   */\n  static getJSONTranslations(lang) {\n    if (lang === 'en' || lang === 'es') {\n      return (lang === 'en') ? en : es;\n    }\n    return M.language.getTranslation(lang).viewmanagement;\n  }\n\n  /**\n   * This function adds this plugin into the map\n   *\n   * @public\n   * @function\n   * @param {M.Map} map the map to add the plugin\n   * @api\n   */\n  addTo(map) {\n    if (this.predefinedzoom === false && this.zoomextent === false &&\n      this.viewhistory === false && this.zoompanel === false) {\n      M.dialog.error(getValue('exception.no_controls'));\n    }\n    this.controls_.push(new ViewManagementControl(\n      this.isDraggable,\n      this.predefinedzoom,\n      this.zoomextent,\n      this.viewhistory,\n      this.zoompanel,\n      this.order,\n    ));\n    this.map_ = map;\n    this.panel_ = new M.ui.Panel('panelViewManagement', {\n      collapsible: this.collapsible,\n      collapsed: this.collapsed,\n      position: M.ui.position[this.position_],\n      className: 'm-plugin-viewmanagement',\n      tooltip: this.tooltip_,\n      collapsedButtonClass: 'viewmanagement-icon-zoom-mapa',\n      order: this.order,\n    });\n\n    this.panel_.addControls(this.controls_);\n    map.addPanels(this.panel_);\n  }\n\n  /**\n   * This functions indicates default center and zoom level for\n   * the control predefinedZoom\n   *\n   * @public\n   * @function\n   * @returns Default center and zoom level\n   * @api\n   */\n  getPredefinedZoom() {\n    const predefinedZoom = [{\n      center: [-356188.1915089525, 4742037.53423241],\n      zoom: 6,\n      isDefault: true,\n    }];\n    return predefinedZoom;\n  }\n\n  /**\n   * Gets the API REST Parameters of the plugin\n   *\n   * @function\n   * @public\n   * @api\n   */\n  getAPIRest() {\n    return `${this.name}=${this.position_}*${this.collapsed}*${this.collapsible}*${this.tooltip_}*${this.isDraggableE}\n    *${this.predefinedzoom}*${this.zoomextent}*${this.viewhistory}*${this.zoompanel}`;\n  }\n\n  /**\n   * Gets the API REST Parameters in base64 of the plugin\n   *\n   * @function\n   * @public\n   * @api\n   */\n  getAPIRestBase64() {\n    return `${this.name}=base64=${M.utils.encodeBase64(this.options)}`;\n  }\n\n  /**\n   * This function destroys this plugin\n   *\n   * @public\n   * @function\n   * @api\n   */\n  destroy() {\n    this.map_.removeControls(this.controls_);\n    this.map_ = null;\n    this.controls_ = null;\n    this.panel_ = null;\n    this.name = null;\n  }\n\n  /**\n   * This function compare if pluging recieved by param is instance of M.plugin.ViewManagement\n   *\n   * @public\n   * @function\n   * @param {M.plugin} plugin to comapre\n   * @api\n   */\n  equals(plugin) {\n    if (plugin instanceof ViewManagement) {\n      return true;\n    }\n    return false;\n  }\n}\n","import M$control$PredefinedZoomControl from './/facade/js/predefinedzoomcontrol';\nimport M$control$ViewHistoryControl from './/facade/js/viewhistorycontrol';\nimport M$plugin$ViewManagement from './/facade/js/viewmanagement';\nimport M$control$ViewManagementControl from './/facade/js/viewmanagementcontrol';\nimport M$control$ZoomExtentControl from './/facade/js/zoomextentcontrol';\nimport M$control$ZoomPanelControl from './/facade/js/zoompanelcontrol';\nimport M$impl$control$PredefinedZoomControl from './/impl/ol/js/predefinedzoomcontrol';\nimport M$impl$control$ViewHistoryControl from './/impl/ol/js/viewhistorycontrol';\nimport M$impl$control$ViewManagementControl from './/impl/ol/js/viewmanagement';\nimport M$impl$control$ZoomExtentControl from './/impl/ol/js/zoomextentcontrol';\nimport M$impl$control$ZoomPanelControl from './/impl/ol/js/zoompanelcontrol';\n\nif (!window.M.control) window.M.control = {};\nif (!window.M.plugin) window.M.plugin = {};\nif (!window.M.impl) window.M.impl = {};\nif (!window.M.impl.control) window.M.impl.control = {};\nwindow.M.control.PredefinedZoomControl = M$control$PredefinedZoomControl;\nwindow.M.control.ViewHistoryControl = M$control$ViewHistoryControl;\nwindow.M.plugin.ViewManagement = M$plugin$ViewManagement;\nwindow.M.control.ViewManagementControl = M$control$ViewManagementControl;\nwindow.M.control.ZoomExtentControl = M$control$ZoomExtentControl;\nwindow.M.control.ZoomPanelControl = M$control$ZoomPanelControl;\nwindow.M.impl.control.PredefinedZoomControl = M$impl$control$PredefinedZoomControl;\nwindow.M.impl.control.ViewHistoryControl = M$impl$control$ViewHistoryControl;\nwindow.M.impl.control.ViewManagementControl = M$impl$control$ViewManagementControl;\nwindow.M.impl.control.ZoomExtentControl = M$impl$control$ZoomExtentControl;\nwindow.M.impl.control.ZoomPanelControl = M$impl$control$ZoomPanelControl;\n"],"sourceRoot":""}